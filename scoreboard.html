<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<title>探險活寶計分版</title>
	<style>
		html,body{
			background-color: #FFFF33;
			width: 100%;		
		}
		table{
			width: 100%;
			height: 100vh;
		}
		table,td,th{
			font-size: 150%;
			text-align: center;
		}
		.form-control{
			font-size: 100%;
			height: 100%;
			text-align: center;
		}
		input[type=text]:focus {
 			border: 2px solid #555;
		}
	</style>
</head>
<body>

<table class="table table-hover">
	<thead>
		<tr>
			<th></th>
			<th>Group 1</th>
			<th>Group 2</th>
			<th>Group 3</th>
			<th>Group 4</th>
			<th>Group 5</th>
			<th>Group 6</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<th>Challenge 1</th>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
		</tr>
		<tr>
			<th>Challenge 2</th>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
		</tr>
		<tr>
			<th>Challenge 3</th>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
			<td><input type="text" class="form-control" onkeyup="calculate()"></td>
		</tr>
		<tr>
			<th>Total</th>
			<td class="total"></td>
			<td class="total"></td>
			<td class="total"></td>
			<td class="total"></td>
			<td class="total"></td>
			<td class="total"></td>
		</tr>
		<tr>
			<th>Rank</th>
			<td class="rank"></td>
			<td class="rank"></td>
			<td class="rank"></td>
			<td class="rank"></td>
			<td class="rank"></td>
			<td class="rank"></td>
		</tr>
	</tbody>
</table>

<script src="js/jquery-1.12.4.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script>
	function calculate() {
		var input=document.getElementsByTagName('input');
		var score=Array(6);
		var total=0;
		for (var i=0;i<6;i++){
			total=0;
			for(var t=i;t<18;t=t+6){
				if(input[t].value==false){
					continue;
				}
				else{
					total=total+parseInt(input[t].value);
				}
			}
			score[i]=total;
		}
		console.log(score);
		var rank=Array(6);
		rank=score.concat();
		rank.sort(function(a,b){return b-a});
		for(var i=0;i<6;i++){
			for(var t=0;t<6;t++){
			var ranka=document.getElementsByClassName('rank');
			if(rank[t]==score[i]){
				if(t==0){
					ranka[i].style.color="#CC0000";
					ranka[i].innerHTML="<b>冠軍</b>";
				}
				else if(t==1){
					ranka[i].style.color="#EE7700";
					ranka[i].innerHTML="<b>亞軍</b>";
				}
				else if(t==2){
					ranka[i].style.color="#666666";
					ranka[i].innerHTML="<b>殿軍</b>";
				}
				else{
					ranka[i].style.color="black";
					ranka[i].innerHTML="NO."+(t+1);
				}
				document.getElementsByClassName('total')[i].innerHTML=score[i];
				break;
			}
		}}
	}
</script>
</body>
</html>